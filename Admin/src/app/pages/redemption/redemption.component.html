<!--Redemption List of merchant-->

<style>
    .avatar {
        width: 50%;
        height: auto;
        object-fit: cover;
        border-radius: 50%;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
    
    .form-control {
        width: 500px;
        margin-bottom: 10px;
        max-width: 445px;
    }
    
    .button:hover {
        background-color: white !important;
        transition: all 2s;
    }
    
    .modal.show .modal-dialog {
        transform: translate(0, 0%) !important;
    }
    
    .ed {
        background-color: #2c2c2c;
        color: #dec074;
        border: 1px solid #2c2c2c;
        display: inline-block;
        font-weight: 600;
        text-align: center;
        vertical-align: middle;
        padding: 11px 35px;
        line-height: 1em;
        border-radius: 1rem;
        cursor: pointer;
        margin-left: 28px;
        margin-top: 20px;
    }
    .mbtn {
        background-color: #dec074;
        color: black;
        border: 3px solid #dec074;
        display: inline-block;
        font-weight: 600;
        text-align: center;
        vertical-align: middle;
        padding: 11px 15px;
        line-height: 1em;
        border-radius: 1rem;
        cursor: pointer;
        font-size: 12px;
        text-decoration: none;
    }
    
    .mbtn:active {
        transform: translateY(4px);
    }
    .form-control {
        border: none;
        border-bottom: 1px solid #dec074;
        border-radius: 0%;
        border-color: #dec074;
    }
    
    .modal.show .modal-dialog {
        transform: translate(0, 0%) !important;
    }
    
    .form-control:disabled {
        background-color: transparent !important;
        opacity: 1;
    }
    /* // ------------------------loader------------------------ */
    
    #loader-wrapper {
        width: 100%;
        height: 100vh;
        position: absolute;
        top: 0;
        left: 0;
        background-color: #181818;
        opacity: 0.8;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 97;
    }
    
    #loader {
        display: inline-block;
        width: 50px;
        height: 50px;
        position: relative;
        top: 0;
        border: 7px solid #dec074;
        animation: loader 2s infinite ease;
        z-index: 99;
    }
    
    #loader-inner {
        vertical-align: top;
        display: inline-block;
        width: 100%;
        background-color: #dec074;
        animation: loader-inner 2s infinite ease-in;
        z-index: 99;
    }
    
    @keyframes loader {
        0% {
            transform: rotate(0deg);
        }
        25% {
            transform: rotate(180deg);
        }
        50% {
            transform: rotate(180deg);
        }
        75% {
            transform: rotate(360deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }
    
    @keyframes loader-inner {
        0% {
            height: 0%;
        }
        25% {
            height: 0%;
        }
        50% {
            height: 100%;
        }
        75% {
            height: 100%;
        }
        100% {
            height: 0%;
        }
    }
</style>

<body>
    <div id="loader-wrapper">
        <span id="loader"><span id="loader-inner"></span></span>
    </div>
    <div class=" content">
        <div class="row">

            <div class="col-xl-4 col-lg-6">
                <div class="card card-stats mb-4 mb-xl-0" style="background-color: rgb(32, 192, 170) !important;background-image: linear-gradient(55deg, #2c2c2c 88%, rgb(32, 192, 170) 120%) !important;">
                    <div class="card-body">
                        <div class="row">
                            <div class="col">
                                <h4 style="color:rgb(32, 192, 170) !important;font-size: 1.0em;" class="card-title font-weight-bold text-muted mb-0">Total Points Redeemed </h4>
                                <br>
                                <span class="h4 mb-0">{{ total1 | number : '1.0-2' }}</span>
                            </div>
                            <div class="col-auto">
                                <div class="icon icon-shape bg-info-2 text-white">
                                    <i class="fab fa-bitcoin"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="col-xl-4 col-lg-6">
                <div class="card card-stats mb-4 mb-xl-0" style="background-color: rgb(253, 127, 113) !important;background-image: linear-gradient(55deg, #2c2c2c 88%, rgb(253, 127, 113) 120%) !important;">
                    <div class="card-body">
                        <div class="row">
                            <div class="col">
                                <h4 style="color:rgb(253, 127, 113) !important;font-size: 1.0em;" class="card-title font-weight-bold text-muted mb-0">Total Points Redeemed ( {{ thismonth }} )</h4>
                                <br>
                                <span class="h4 mb-0">{{ total2 | number : '1.0-2'}}</span>
                            </div>
                            <div class="col-auto">
                                <div class="icon icon-shape bg-info-3">
                                    <i class="far fa-comment-alt"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="col-xl-4 col-lg-6">
                <div class="card card-stats mb-4 mb-xl-0" style="background-color: rgb(105, 209, 2) !important;background-image: linear-gradient(55deg, #2c2c2c 88%, rgb(105, 209, 2) 120%) !important;">
                    <div class="card-body">
                        <div class="row">
                            <div class="col">
                                <h4 style="color:rgb(105, 209, 2) !important;font-size: 1.0em;" class="card-title font-weight-bold text-muted mb-0">Total Points Given</h4>
                                <br>
                                <span class="h4  mb-0">{{ totalgiven | number : '1.0-2' }}</span>
                                <!-- <span class="h4  mb-0">{{ totalgiven | number : '1.0' }}</span> -->
                            </div>
                            <div class="col-auto">
                                <div class="icon icon-shape bg-info-4 text-white">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <br>
        <br>
        <div class=" row">
            <div class=" col-md-1">
            </div>
            <div class=" col-md-12">
                <div class=" card">
                    <div class=" card-header">
                        <h4 class=" card-title font-weight-bold text-muted mb-0" style="margin-top: 3px;">Redemption Management
                        </h4>
                    </div>
                    <br>
                    <div class=" card-body">
                        <div class="row">
                            <div class="col-md-10"></div>
                            <div name="exportclass" *ngIf="thisexport" class="col-md-2"><button class="mbtn" (click)="exportexcel()">
                                    <i class="fas fa-download"></i> &nbsp;Export to Excel</button></div>
                        </div>
                        <br>
                        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class=" table tablesorter" id="redeemtable" style="top: 50%; left: 50%;">
                            <thead class=" text-primary">
                                <tr>
                                    <th>Action</th>
                                    <th>Company Name</th>
                                    <th>Email</th>
                                    <th>Contact</th>
                                    <th>Total Redemption</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let red of merchArr">

                                    <td>

                                        <a href="javascript:void(0)" title="view" (click)="open(red._id)"> <i style="font-size: 1.2em" class="fas fa-eye"></i></a>

                                    </td>
                                    <td> {{ red.companyname }}</td>
                                    <td>{{ red.email }}</td>
                                    <td>{{ red.contact }}</td>
                                    <td *ngIf="isEmpty(red._id)">{{ eachTotal[red._id] }}</td>

                                </tr>
                            </tbody>
                        </table>
                        <br>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>